<section class="bonus" [ngClass]="{ 'show-form': isForm }">
  <div class="description-container">
    <span class="vendor-name">{{ bonus.company.name }}</span>
    <p class="bonus-description">{{ bonus.description }}</p>
  </div>
  <div class="bonus-content">
    <app-rate [isForm]="isForm" (ratingWasSubmitted)="closeRateForm()" [bonus]="bonus">
      <img class="discount-icon" src="assets/icons/discount-icon.svg" alt="discount" />
      <span class="discount-value">{{ bonus.title }}</span>
    </app-rate>
    <div *ngIf="!isForm" class="interactive-container">
      <div>
        <div class="bonus-name">{{ bonus.type }}</div>
        <div class="tags">
          <span class="tag" *ngFor="let tag of bonus.tags">{{ tag }}</span>
        </div>
      </div>
      <button mat-flat-button class="edit-button" *ngIf="isParent['APP-ADD-BONUS']">
        <a
          *ngIf="isModeratorOrAdmin"
          routerLink="/bonuses/{{ bonus.id }}"
          [routerLinkActive]="'active'"
          class="edit-button-link"
        >
          <img class="update-img" src="assets/images/pencil.png" alt="update bonus" />
          <span>Edit</span>
        </a>
      </button>
      <div class="button-container" *ngIf="isParent['APP-HISTORY']">
        <button mat-flat-button class="apply-button" (click)="openRateForm()">
          <span>Rate</span>
        </button>
      </div>
      <div class="button-container" *ngIf="isParent['APP-HOME']">
        <button mat-flat-button class="apply-button" (click)="applyBonus()">
          <span>Apply</span>
        </button>
      </div>
    </div>
  </div>
</section>
